/*
 *  jQueryCookieDisclaimer - v1.1.0
 *  "jQuery Cookie Disclaimer Bar"
 *  http://factory.brainleaf.eu/jqueryCookieDisclaimer
 *
 *  Made by BRAINLEAF Communication
 *  Released Under GNU/GPL License
 *  (c)2014-2015 by BRAINLEAF Communication
 *
 *  BugReport/Assistence: https://github.com/Gix075/jqueryCookieDisclaimer/issues
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend(!0,g,c),this._defaults=g,this._name=f,this.init()}var f="cookieDisclaimer",g={layout:"bar",position:"top",style:"dark",title:"Cookie Disclaimer",text:"To browse this site you need to accept our cookie policy.",cssPosition:"fixed",onAccepted:"",acceptBtn:{text:"I Accept",cssClass:"cdbtn cookie",cssId:"cookieAcceptBtn",onAfter:""},policyBtn:{active:!0,text:"Read More",link:"#",linkTarget:"_blank",cssClass:"cdbtn privacy",cssId:"policyPageBtn",onClick:""},cookie:{name:"cookieDisclaimer",val:"confirmed",path:"/",expire:365}};a.extend(e.prototype,{init:function(){this.cookieHunter(),this.cookieKillerButton(),""!=this.settings.policyBtn.onClick&&this.policyOnClick()},makeBarMarkup:function(){switch(this.settings.layout){case"bar":var b='<div id="jQueryCookieDisclaimer" class="cdbar '+this.settings.style+" "+this.settings.position+" "+this.settings.cssPosition+'">';b+='  <div class="cdbar-text">'+this.settings.text+"</div>",b+='  <div class="cdbar-buttons">',0!=this.settings.policyBtn.active&&(b+='      <a id="'+this.settings.policyBtn.cssId+'" href="'+this.settings.policyBtn.link+'" class="'+this.settings.policyBtn.cssClass+'" target="'+this.settings.policyBtn.linkTarget+'">'+this.settings.policyBtn.text+"</a>"),b+='      <button id="'+this.settings.acceptBtn.cssId+'" class="'+this.settings.acceptBtn.cssClass+' cdbar-cookie-accept">'+this.settings.acceptBtn.text+"</button>",b+="  </div>",b+="</div>";break;case"modal":var b='<div id="jQueryCookieDisclaimer" class="cdmodal '+this.settings.style+" "+this.settings.position+'">';b+='  <div class="cdmodal-box">',b+='      <div class="cdmodal-box-inner">',b+='          <div class="cdmodal-text">',b+="             <h3>"+this.settings.title+"</h3>",b+="             <p>"+this.settings.text+"</p>",b+="          </div>",b+='          <div class="cdmodal-buttons">',0!=this.settings.policyBtn.active&&(b+='      <a href="'+this.settings.policyBtn.link+'" class="'+this.settings.policyBtn.cssClass+'">'+this.settings.policyBtn.text+"</a>"),b+='              <button class="'+this.settings.acceptBtn.cssClass+' cdbar-cookie-accept">'+this.settings.acceptBtn.text+"</button>",b+="          </div>",b+="      </div>",b+="  </div>",b+="</div>"}"bottom"==this.settings.position?a("body").append(b):a("body").prepend(b),this.cookieListner()},cookieHunter:function(){a.cookie(this.settings.cookie.name)!=this.settings.cookie.val?this.makeBarMarkup():""!=this.settings.onAccepted&&this.settings.onAccepted()},cookieListner:function(){var b=this;a(".cdbar-cookie-accept").on("click",function(c){c.preventDefault(),a.cookie(b.settings.cookie.name,b.settings.cookie.val,{expires:b.settings.cookie.expire,path:b.settings.cookie.path}),a("#jQueryCookieDisclaimer").fadeOut(),a("#jQueryCookieDisclaimer").promise().done(function(){b.settings.acceptBtn.onAfter()})})},policyOnClick:function(){var b=this;a("#"+b.settings.policyBtn.cssId).on("click",function(a){a.preventDefault(),b.settings.policyBtn.onClick()})},cookiesList:function(b,e){var f=c.cookie.split(";"),g=c.cookie,h="";switch(b){case"array":h=f;break;case"string":h=g;break;case"html":h='<ul class="cd-cookieslist">';for(var i=1;i<=f.length;i++)h+="<li>"+f[i-1]+"</li>";if(h+="</ul>",e!=d&&""!=e)return a(e).html(h),!0;break;default:h=f}return console.log("cookieList as "+b+" : "+h),h},cookieKiller:function(){a.cookie(this.settings.cookie.name)!=d?(a.removeCookie(this.settings.cookie.name,{path:this.settings.cookie.path}),this.cookieHunter()):alert("Sorry, but there are no cookie named "+this.settings.cookie.name)},cookieKillerButton:function(){var b=this;a(".cdbar-cookie-kill").on("click",function(a){a.preventDefault(),b.cookieKiller()})}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);